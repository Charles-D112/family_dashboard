<h1>Créer une nouvelle To Do List</h1>

<%= form_with model: @list, url: lists_path, method: :post do |form| %>
  <div class="field">
    <%= form.label :name %>
    <%= form.text_field :name %>
  </div>

<h2>Tâches à faire</h2>
  <%= form.fields_for :tasks do |task_fields| %>
    <div class="field">
      <%= task_fields.label :name, "Nom de la tâche" %>
      <%= task_fields.text_field :name %>
      <%= task_fields.check_box :_destroy, class: "task-destroy-checkbox" %>
      <%= task_fields.label :_destroy, "Supprimer" %>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :existing_task_id, "Tâche existante" %>
    <%= form.collection_select :existing_task_id, Task.all, :id, :name, { prompt: true } %>
  </div>

  <div class="actions">
    <%= form.submit "Ajouter" %>
  </div>
<% end %>

<%= link_to "Retour mes To Do Lists", lists_path %>
